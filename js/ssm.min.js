/*! SimpleStateManager 2013-06-24 */
!function(a,b){"use strict";var c={},d=[],e=!1,f=0,g=null,h=0,i=30,j=function(){var a,c=null;if(!(h++<i)){a=d.length,f=l();for(var j=0;a>j;j++)if(c=d[j],d[j].width>=f){null!==g?g.id!==d[j].id&&(g.onLeave(),g=d[j],g.onEnter()):(g=d[j],g.onEnter()),d[j].onResize();break}e&&(b.getElementById("ssmDebug").innerHTML=f+"px")}};c.enableDebug=function(){return e=!0,b.body.innerHTML+='<div id="ssmDebug" style="z-index: 99999999; position: fixed; bottom: 0px; right: 0px; width: 100px; line-height: 30px; font-size: 12px; background: #fff; border: 1px solid #000; text-align: center;">'+f+"px</div>",this},c.addState=function(a){var b={id:k(),width:0,onEnter:function(){},onLeave:function(){},onResize:function(){}};return a=m(b,a),d.push(a),d=n(d,"width"),this},c.removeState=function(a){for(var b=d.length-1;b>=0;b--)d[b].id===a&&d.splice(b,1);return this},c.addStates=function(a){for(var b=a.length-1;b>=0;b--)c.addState(a[b]);return this},c.ready=function(){for(var a=null,b=d.length,c=0;b>c;c++)if(a=d[c],d[c].width>=f){g=d[c],g.onEnter();break}return this},c.states=function(){return d};var k=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},l=function(){var a=0;return self.innerHeight?a=self.innerWidth:b.documentElement&&b.documentElement.clientHeight?a=b.documentElement.clientWidth:b.body&&(a=b.body.clientWidth),a},m=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},n=function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})};f=l(),a.ssm=c,a.attachEvent?a.attachEvent("onresize",j):a.addEventListener&&a.addEventListener("resize",j,!0)}(window,document);