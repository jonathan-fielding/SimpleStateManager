/*! SimpleStateManager 2013-08-09 */
!function(a,b){"use strict";var c={},d=[],e=!1,f=0,g=null,h=50,i=null,j=function(){clearTimeout(i),i=setTimeout(k,h)},k=function(){var a,c=null;a=d.length,f=m();for(var h=0;a>h;h++)if(c=d[h],d[h].width>=f){null!==g?g.id!==d[h].id&&(g.onLeave(),g=d[h],g.onEnter()):(g=d[h],g.onEnter()),d[h].onResize();break}e&&(b.getElementById("ssmDebug").innerHTML=f+"px")};c.enableDebug=function(){return e=!0,b.body.innerHTML+='<div id="ssmDebug" style="z-index: 99999999; position: fixed; bottom: 0px; right: 0px; width: 100px; line-height: 30px; font-size: 12px; background: #fff; border: 1px solid #000; text-align: center;">'+f+"px</div>",this},c.addState=function(a){var b={id:l(),width:0,onEnter:function(){},onLeave:function(){},onResize:function(){}};return a=n(b,a),d.push(a),d=o(d,"width"),this},c.removeState=function(a){for(var b=d.length-1;b>=0;b--)d[b].id===a&&d.splice(b,1);return this},c.removeStates=function(a){for(var b=a.length-1;b>=0;b--)c.removeState(a[b]);return this},c.removeAllStates=function(){return d=[],this},c.addStates=function(a){for(var b=a.length-1;b>=0;b--)c.addState(a[b]);return this},c.getState=function(){return g},c.setResizeTimeout=function(a){h=a},c.ready=function(){for(var a=null,b=d.length,c=0;b>c;c++)if(a=d[c],d[c].width>=f){g=d[c],g.onEnter();break}return this},c.states=function(){return d};var l=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},m=function(){var a=0;return self.innerHeight?a=self.innerWidth:b.documentElement&&b.documentElement.clientHeight?a=b.documentElement.clientWidth:b.body&&(a=b.body.clientWidth),a},n=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},o=function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})};f=m(),a.attachEvent?a.attachEvent("onresize",j):a.addEventListener&&a.addEventListener("resize",j,!0),a.ssm=c,"function"==typeof a.define&&a.define.amd&&a.define("ssm",[],function(){return a.ssm})}(window,document);